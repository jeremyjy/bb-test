<div class="md-col-6" ng-controller="storyController">
  <h1>创建故事</h1>
  <form class="form-horizontal" name="form" ng-submit="save()" novalidate="novalidate">
    <div class="form-group">
      <label for="name" class="col-sm-2 control-label">故事名称</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" ng-model="story.name" id="name">
      </div>
    </div>
    <div class="form-group">
      <label for="category" class="col-sm-2 control-label">所属分类</label>
      <div class="col-sm-6">
        <select class="form-control " ng-model="story.category" name="">
          <option ng-repeat="item in story.categories" value="{{item.id}}">{{item.name}}</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label for="fileUpload" class="col-sm-2 control-label">上传</label>
      <div class="col-sm-10">
        <input type="file" ngf-select ng-model="idFile" id="idFile" name="file"
               accept="audio/*"
               ngf-max-size="2MB" required
               ngf-model-invalid="errorFile">
        <i ng-show="form.file.$error.required">*</i><br>
        <i ng-show="form.file.$error.maxSize">File too large
            {{errorFile.size / 1000000|number:1}}MB: max 2M</i>
        <img ng-show="form.file.$valid" ngf-thumbnail="idFile" class="thumb">
        <span class="btn btn-default" ng-click="uploadCover(idFile)" ng-show="idFile">上传</span>
        <span class="btn btn-default" ng-click="idFile = null" ng-show="idFile">移除</span>

      </div>
    </div>
    <div class="form-group">
      <label for="file" class="col-sm-2 control-label">文件预览</label>
      <div class="col-sm-10">
        <audio controls id="media"></audio>
      </div>
    </div>
    <div class="form-group">
      <label for="name" class="col-sm-2 control-label">文件大小</label>
      <label class="col-sm-1 control-label">{{story.fileSize || 0}}K</label>
    </div>
    <div class="form-group">
      <div class="col-sm-10">
        <label class="col-sm-2 control-label"></label>
        <button type="submit" class="btn btn-default pull-left">保存</button>
        <button ng-click="cancelSaveStory()" class="btn btn-default pull-left">取消</button>
      </div>
    </div>
  </form>
  <audio id="hello" src="./abc.m4r">
    hello
  </audio>
</div>
<style>

</style>
