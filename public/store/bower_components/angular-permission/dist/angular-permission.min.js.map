{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","TransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermissionFactory","TransitionProperties","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","RoleFactory","PermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","permission","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","RoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","Authorization","PermissionMap","PermissionStrategies","restrict","bindToController","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","permissionMap","authorize","e","error","message","permissionsMap","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMapFactory","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role","$inject","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}